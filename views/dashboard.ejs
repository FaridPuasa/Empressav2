<!DOCTYPE html>
<html lang="en">

    <%- include('partials/head.ejs') %>

<body id="page-top">
    <!-- Page Wrapper -->
    <div id="wrapper">
        <!-- sidebar navigation -->
        <%- include('partials/sidebar.ejs') %>

        <!-- Content Wrapper -->
        <div id="content-wrapper" class="d-flex flex-column">
            <!-- Main Content -->
            <div id="content">

                <!-- top navigation -->
                <%- include('partials/topbar.ejs') %>

                <!-- Begin Page Content -->

                <!-- content of page goes here -->



                <div class="container-fluid">

                    <!-- DataTales Example -->
    <div class="card shadow mb-4">
        <div class="card-header py-3">
            <h6 class="m-0 font-weight-bold text-primary">Proof of Delivery</h6>
        </div>

        <div class="card-body">
            <!-- Outer Row -->
            <div class="row justify-content-center">
                <div class="col-xl-10 col-lg-12 col-md-9">
                    <form class="user" method="POST" action="/itemInSuccess">
                        
                            <div id="toolbar">
                                <!--<div class="d-flex justify-content-center">
                                <button type="button" class="btn btn-light btn-lg ">Excel Upload</button>
                                    <div class="dropdown-container">
                                        <button class="btn btn-light dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="fas fa-sliders-h"></i> Advance Search</button>
                                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                            <div class="dropdown-list">
                                                    <input id="search_input" type="search" placeholder="Search states" class="dropdown-search"/>
                                                    <ul></ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>-->
                            </div>
            
                                <table
                                    id="table"
                                    data-toolbar="#toolbar"
                                    data-search="true"
                                    data-show-refresh="true"
                                    data-show-toggle="true"
                                    data-show-fullscreen="true"
                                    data-show-columns="true"
                                    data-show-columns-toggle-all="true"
                                    data-detail-view="false"
                                    data-show-export="true"
                                    data-click-to-select="true"
                                    data-detail-formatter="detailFormatter"
                                    data-minimum-count-columns="2"
                                    data-show-pagination-switch="true"
                                    data-pagination="true"
                                    data-id-field="id"
                                    data-page-list="[10, 25, 50, 100, all]"
                                    data-show-footer="true"
                                    
                                    data-response-handler="responseHandler">
                                <thead>
                                    <tr>
                                        <th data-field="fname" data-sortable="true">First Name</th>
                                        <th data-field="lname" data-sortable="true">Last Name</th>
                                        <th data-field="type" data-sortable="true">Type</th>
                                        <th data-field="phone" data-sortable="true">Phone</th>
                                        <th data-field="unit" data-sortable="true">Unit</th>
                                        <th data-field="community" data-sortable="true">Community</th>
                                        <th data-field="address" data-sortable="true">Address</th>
                                        <th data-field="city" data-sortable="true">City</th>
                                        <th data-field="state" data-sortable="true">State</th>
                                        <th data-field="zip" data-sortable="true">Zip</th>
                                        <th data-field="zip" data-sortable="true" data-visible="false">Lease Start Date</th>
                                        <th data-field="zip" data-sortable="true" data-visible="false">Lease End Date</th>
                                        <th data-field="zip" data-sortable="true" data-visible="false">Date Purchased</th>
                                        <th data-formatter="operateFormatter" data-events="operateEvents">Actions</th>
                                    </tr>
                                </thead>
                            </table>
                        
                            <input type="hidden" class="form-control form-control-user" name="formMETHOD" id="formMETHOD" aria-describedby="contactHelp" value="POD">

                        <!--<a href="index.html" class="btn btn-primary btn-user btn-block">Submit</a>-->
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

                    

                <!-- /.container-fluid -->

            </div>
            <!-- End of Main Content -->

            <%- include('partials/footer.ejs') %>

        </div>
        <!-- End of Content Wrapper -->
    </div>
    <!-- End of Page Wrapper -->

    <!-- Scroll to Top Button-->
    <a class="scroll-to-top rounded" href="#page-top">
        <i class="fas fa-angle-up"></i>
    </a>

    <!-- Logout Modal-->
    <%- include('partials/logoutModal.ejs') %>

    <!-- scripts goes here -->
    <%- include('partials/scripts.ejs') %>

    <script>
        let othersField = document.getElementById("productOther")
        othersField.style.display = 'none'
        let category = document.getElementById("productCategory").addEventListener('change', function() {
        val = this.value
            if(val == "others"){
                othersField.style.display = 'block';
            }
            else{
                othersField.style.display = 'none';
            }
        })
    </script>

    <script>
        /*
            <p id="text">Complete</p>
            <button id="button-complete">Completed</button>
        */
        let texts = document.getElementById("text").innerHTML
        let btn = document.getElementById("button-complete")
        console.log(texts)
        if (texts = "Complete"){
            btn.setAttribute("disabled","")
        }
    </script>

<script>
    	var $table = $('#table')
  var $remove = $('#remove')
  var selections = []

  function getIdSelections() {
    return $.map($table.bootstrapTable('getSelections'), function (row) {
      return row.id
    })
  }

  function responseHandler(res) {
    $.each(res.rows, function (i, row) {
      row.state = $.inArray(row.id, selections) !== -1
    })
    return res
  }

  function detailFormatter(index, row) {
    var html = []
    $.each(row, function (key, value) {
      html.push('<p><b>' + key + ':</b> ' + value + '</p>')
    })
    return html.join('')
  }

  function operateFormatter(value, row, index) {
    return [
      '<button class="btn btn-link dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="fa fa-ellipsis-h"></i></button>',
  		'<div class="dropdown-menu" aria-labelledby="dropdownMenuButton"><a class="dropdown-item" href="#">Action</a><a class="dropdown-item" href="#">Another action</a><a class="dropdown-item" href="#">Something else here</a></div>'
    ].join('')
  }

  window.operateEvents = {
    'click .like': function (e, value, row, index) {
      alert('You click like action, row: ' + JSON.stringify(row))
    },
    'click .remove': function (e, value, row, index) {
      $table.bootstrapTable('remove', {
        field: 'id',
        values: [row.id]
      })
    }
  }

  // function totalTextFormatter(data) {
  //   return 'Total'
  // }

  // function totalNameFormatter(data) {
  //   return data.length
  // }

  // function totalPriceFormatter(data) {
  //   var field = this.field
  //   return '$' + data.map(function (row) {
  //     return +row[field].substring(1)
  //   }).reduce(function (sum, i) {
  //     return sum + i
  //   }, 0)
  // }

 var $table = $('#table')

  $(function() {
   var data = [
		 		{
						'fname': 'Andrei ',
						'lname': 'Masharin',
						'type': 'Owner, Tenant',
						'phone': '777-444-6556',
						'unit': '432',
						'community': 'Los Alisos',
						'address': '2400 Harbor Boulevard ',
						'city': 'Costa Mesa',
						'state': 'CA',
						'zip': '94454',
				},
				{
						'fname': 'Anje',
						'lname': 'Keizer',
						'type': 'N/A',
						'phone': '713-810-8418',
						'unit': '343',
						'community': 'Cameron',
						'address': '3848 Michael Street',
						'city': 'Hendley',
						'state': 'NE',
						'zip': '68946',
				},
				{
						'fname': 'Arina',
						'lname': 'Belomestnykh',
						'type': 'Owner, Tenant',
						'phone': '937-755-9651',
						'unit': '454',
						'community': 'Fort Kent',
						'address': '1918  Crim Lane',
						'city': 'New Madison',
						'state': 'OH',
						'zip': '45346',
				},
				{
						'fname': 'Darius',
						'lname': 'Cummings',
						'type': 'N/A',
						'phone': '937-755-9651',
						'unit': '123',
						'community': 'Dennehotso',
						'address': '3848  Michael Street',
						'city': 'Costa Mesa',
						'state': 'NE',
						'zip': '68946',
				},
				{
						'fname': 'Francisco',
						'lname': 'Maia',
						'type': 'Owner, Tenant',
						'phone': '937-755-9651',
						'unit': '565',
						'community': 'Cameron',
						'address': '3848 Michael Street',
						'city': 'Hendley',
						'state': 'NE',
						'zip': '45346',
				},
				{
						'fname': 'Chinelo',
						'lname': 'Chyke',
						'type': 'N/A',
						'phone': '937-755-9651',
						'unit': '545',
						'community': 'Dennehotso',
						'address': '3848 Michael Street',
						'city': 'Costa Mesa',
						'state': 'NE',
						'zip': '68946',
				}, {
						'fname': 'Andrei ',
						'lname': 'Masharin',
						'type': 'Owner, Tenant',
						'phone': '777-444-6556',
						'unit': '432',
						'community': 'Los Alisos',
						'address': '2400 Harbor Boulevard ',
						'city': 'Costa Mesa',
						'state': 'CA',
						'zip': '94454',
				},
				{
						'fname': 'Anje',
						'lname': 'Keizer',
						'type': 'N/A',
						'phone': '713-810-8418',
						'unit': '343',
						'community': 'Cameron',
						'address': '3848 Michael Street',
						'city': 'Hendley',
						'state': 'NE',
						'zip': '68946',
				},
				{
						'fname': 'Arina',
						'lname': 'Belomestnykh',
						'type': 'Owner, Tenant',
						'phone': '937-755-9651',
						'unit': '454',
						'community': 'Fort Kent',
						'address': '1918  Crim Lane',
						'city': 'New Madison',
						'state': 'OH',
						'zip': '45346',
				},
				{
						'fname': 'Darius',
						'lname': 'Cummings',
						'type': 'N/A',
						'phone': '937-755-9651',
						'unit': '123',
						'community': 'Dennehotso',
						'address': '3848  Michael Street',
						'city': 'Costa Mesa',
						'state': 'NE',
						'zip': '68946',
				},
				{
						'fname': 'Francisco',
						'lname': 'Maia',
						'type': 'Owner, Tenant',
						'phone': '937-755-9651',
						'unit': '565',
						'community': 'Cameron',
						'address': '3848 Michael Street',
						'city': 'Hendley',
						'state': 'NE',
						'zip': '45346',
				},
				{
						'fname': 'Chinelo',
						'lname': 'Chyke',
						'type': 'N/A',
						'phone': '937-755-9651',
						'unit': '545',
						'community': 'Dennehotso',
						'address': '3848 Michael Street',
						'city': 'Costa Mesa',
						'state': 'NE',
						'zip': '68946',
				}, {
						'fname': 'Andrei ',
						'lname': 'Masharin',
						'type': 'Owner, Tenant',
						'phone': '777-444-6556',
						'unit': '432',
						'community': 'Los Alisos',
						'address': '2400 Harbor Boulevard ',
						'city': 'Costa Mesa',
						'state': 'CA',
						'zip': '94454',
				},
				{
						'fname': 'Anje',
						'lname': 'Keizer',
						'type': 'N/A',
						'phone': '713-810-8418',
						'unit': '343',
						'community': 'Cameron',
						'address': '3848 Michael Street',
						'city': 'Hendley',
						'state': 'NE',
						'zip': '68946',
				},
				{
						'fname': 'Arina',
						'lname': 'Belomestnykh',
						'type': 'Owner, Tenant',
						'phone': '937-755-9651',
						'unit': '454',
						'community': 'Fort Kent',
						'address': '1918  Crim Lane',
						'city': 'New Madison',
						'state': 'OH',
						'zip': '45346',
				},
				{
						'fname': 'Darius',
						'lname': 'Cummings',
						'type': 'N/A',
						'phone': '937-755-9651',
						'unit': '123',
						'community': 'Dennehotso',
						'address': '3848  Michael Street',
						'city': 'Costa Mesa',
						'state': 'NE',
						'zip': '68946',
				},
				{
						'fname': 'Francisco',
						'lname': 'Maia',
						'type': 'Owner, Tenant',
						'phone': '937-755-9651',
						'unit': '565',
						'community': 'Cameron',
						'address': '3848 Michael Street',
						'city': 'Hendley',
						'state': 'NE',
						'zip': '45346',
				},
				{
						'fname': 'Chinelo',
						'lname': 'Chyke',
						'type': 'N/A',
						'phone': '937-755-9651',
						'unit': '545',
						'community': 'Dennehotso',
						'address': '3848 Michael Street',
						'city': 'Costa Mesa',
						'state': 'NE',
						'zip': '68946',
				}, {
						'fname': 'Andrei ',
						'lname': 'Masharin',
						'type': 'Owner, Tenant',
						'phone': '777-444-6556',
						'unit': '432',
						'community': 'Los Alisos',
						'address': '2400 Harbor Boulevard ',
						'city': 'Costa Mesa',
						'state': 'CA',
						'zip': '94454',
				},
				{
						'fname': 'Anje',
						'lname': 'Keizer',
						'type': 'N/A',
						'phone': '713-810-8418',
						'unit': '343',
						'community': 'Cameron',
						'address': '3848 Michael Street',
						'city': 'Hendley',
						'state': 'NE',
						'zip': '68946',
				},
				{
						'fname': 'Arina',
						'lname': 'Belomestnykh',
						'type': 'Owner, Tenant',
						'phone': '937-755-9651',
						'unit': '454',
						'community': 'Fort Kent',
						'address': '1918  Crim Lane',
						'city': 'New Madison',
						'state': 'OH',
						'zip': '45346',
				},
				{
						'fname': 'Darius',
						'lname': 'Cummings',
						'type': 'N/A',
						'phone': '937-755-9651',
						'unit': '123',
						'community': 'Dennehotso',
						'address': '3848  Michael Street',
						'city': 'Costa Mesa',
						'state': 'NE',
						'zip': '68946',
				},
				{
						'fname': 'Francisco',
						'lname': 'Maia',
						'type': 'Owner, Tenant',
						'phone': '937-755-9651',
						'unit': '565',
						'community': 'Cameron',
						'address': '3848 Michael Street',
						'city': 'Hendley',
						'state': 'NE',
						'zip': '45346',
				},
				{
						'fname': 'Chinelo',
						'lname': 'Chyke',
						'type': 'N/A',
						'phone': '937-755-9651',
						'unit': '545',
						'community': 'Dennehotso',
						'address': '3848 Michael Street',
						'city': 'Costa Mesa',
						'state': 'NE',
						'zip': '68946',
				}, {
						'fname': 'Andrei ',
						'lname': 'Masharin',
						'type': 'Owner, Tenant',
						'phone': '777-444-6556',
						'unit': '432',
						'community': 'Los Alisos',
						'address': '2400 Harbor Boulevard ',
						'city': 'Costa Mesa',
						'state': 'CA',
						'zip': '94454',
				},
				{
						'fname': 'Anje',
						'lname': 'Keizer',
						'type': 'N/A',
						'phone': '713-810-8418',
						'unit': '343',
						'community': 'Cameron',
						'address': '3848 Michael Street',
						'city': 'Hendley',
						'state': 'NE',
						'zip': '68946',
				},
				{
						'fname': 'Arina',
						'lname': 'Belomestnykh',
						'type': 'Owner, Tenant',
						'phone': '937-755-9651',
						'unit': '454',
						'community': 'Fort Kent',
						'address': '1918  Crim Lane',
						'city': 'New Madison',
						'state': 'OH',
						'zip': '45346',
				},
				{
						'fname': 'Darius',
						'lname': 'Cummings',
						'type': 'N/A',
						'phone': '937-755-9651',
						'unit': '123',
						'community': 'Dennehotso',
						'address': '3848  Michael Street',
						'city': 'Costa Mesa',
						'state': 'NE',
						'zip': '68946',
				},
				{
						'fname': 'Francisco',
						'lname': 'Maia',
						'type': 'Owner, Tenant',
						'phone': '937-755-9651',
						'unit': '565',
						'community': 'Cameron',
						'address': '3848 Michael Street',
						'city': 'Hendley',
						'state': 'NE',
						'zip': '45346',
				},
				{
						'fname': 'Chinelo',
						'lname': 'Chyke',
						'type': 'N/A',
						'phone': '937-755-9651',
						'unit': '545',
						'community': 'Dennehotso',
						'address': '3848 Michael Street',
						'city': 'Costa Mesa',
						'state': 'NE',
						'zip': '68946',
				}, {
						'fname': 'Andrei ',
						'lname': 'Masharin',
						'type': 'Owner, Tenant',
						'phone': '777-444-6556',
						'unit': '432',
						'community': 'Los Alisos',
						'address': '2400 Harbor Boulevard ',
						'city': 'Costa Mesa',
						'state': 'CA',
						'zip': '94454',
				},
				{
						'fname': 'Anje',
						'lname': 'Keizer',
						'type': 'N/A',
						'phone': '713-810-8418',
						'unit': '343',
						'community': 'Cameron',
						'address': '3848 Michael Street',
						'city': 'Hendley',
						'state': 'NE',
						'zip': '68946',
				},
				{
						'fname': 'Arina',
						'lname': 'Belomestnykh',
						'type': 'Owner, Tenant',
						'phone': '937-755-9651',
						'unit': '454',
						'community': 'Fort Kent',
						'address': '1918  Crim Lane',
						'city': 'New Madison',
						'state': 'OH',
						'zip': '45346',
				},
				{
						'fname': 'Darius',
						'lname': 'Cummings',
						'type': 'N/A',
						'phone': '937-755-9651',
						'unit': '123',
						'community': 'Dennehotso',
						'address': '3848  Michael Street',
						'city': 'Costa Mesa',
						'state': 'NE',
						'zip': '68946',
				},
				{
						'fname': 'Francisco',
						'lname': 'Maia',
						'type': 'Owner, Tenant',
						'phone': '937-755-9651',
						'unit': '565',
						'community': 'Cameron',
						'address': '3848 Michael Street',
						'city': 'Hendley',
						'state': 'NE',
						'zip': '45346',
				},
				{
						'fname': 'Chinelo',
						'lname': 'Chyke',
						'type': 'N/A',
						'phone': '937-755-9651',
						'unit': '545',
						'community': 'Dennehotso',
						'address': '3848 Michael Street',
						'city': 'Costa Mesa',
						'state': 'NE',
						'zip': '68946',
				}, {
						'fname': 'Andrei ',
						'lname': 'Masharin',
						'type': 'Owner, Tenant',
						'phone': '777-444-6556',
						'unit': '432',
						'community': 'Los Alisos',
						'address': '2400 Harbor Boulevard ',
						'city': 'Costa Mesa',
						'state': 'CA',
						'zip': '94454',
				},
				{
						'fname': 'Anje',
						'lname': 'Keizer',
						'type': 'N/A',
						'phone': '713-810-8418',
						'unit': '343',
						'community': 'Cameron',
						'address': '3848 Michael Street',
						'city': 'Hendley',
						'state': 'NE',
						'zip': '68946',
				},
				{
						'fname': 'Arina',
						'lname': 'Belomestnykh',
						'type': 'Owner, Tenant',
						'phone': '937-755-9651',
						'unit': '454',
						'community': 'Fort Kent',
						'address': '1918  Crim Lane',
						'city': 'New Madison',
						'state': 'OH',
						'zip': '45346',
				},
				{
						'fname': 'Darius',
						'lname': 'Cummings',
						'type': 'N/A',
						'phone': '937-755-9651',
						'unit': '123',
						'community': 'Dennehotso',
						'address': '3848  Michael Street',
						'city': 'Costa Mesa',
						'state': 'NE',
						'zip': '68946',
				},
				{
						'fname': 'Francisco',
						'lname': 'Maia',
						'type': 'Owner, Tenant',
						'phone': '937-755-9651',
						'unit': '565',
						'community': 'Cameron',
						'address': '3848 Michael Street',
						'city': 'Hendley',
						'state': 'NE',
						'zip': '45346',
				},
				{
						'fname': 'Chinelo',
						'lname': 'Chyke',
						'type': 'N/A',
						'phone': '937-755-9651',
						'unit': '545',
						'community': 'Dennehotso',
						'address': '3848 Michael Street',
						'city': 'Costa Mesa',
						'state': 'NE',
						'zip': '68946',
				}
		]
            
    $table.bootstrapTable({data: data})
		$table.bootstrapTable('updateFormatText', 'formatShowingRows', 'Showing')
  })

// Events
$('.dropdown-container')
	.on('click', '.dropdown-button', function() {
        $(this).siblings('.dropdown-list').toggle();
	})
	.on('input', '.dropdown-search', function() {
    	var target = $(this);
        var dropdownList = target.closest('.dropdown-list');
    	var search = target.val().toLowerCase();
    
    	if (!search) {
            dropdownList.find('li').show();
            return false;
        }
    
    	dropdownList.find('li').each(function() {
        	var text = $(this).text().toLowerCase();
            var match = text.indexOf(search) > -1;
            $(this).toggle(match);
        });
	})
	.on('change', '[type="checkbox"]', function() {
        var container = $(this).closest('.dropdown-container');
        var numChecked = container. find('[type="checkbox"]:checked').length;
    	container.find('.quantity').text(numChecked || 'Any');
	});



$(document).ready(function () {

      var seachHtml = "";

      var checkBoxIdNoPart = 0;
      $("table.table-bordered thead tr th div.th-inner").each(function () {
        checkBoxIdNoPart++;
        seachHtml +=
          '<input class="checkBoxClass"  value=' + checkBoxIdNoPart + ' type="checkbox">' +
          '<label for="' + $(this).html() + '</label><br>';
      });

      $('.dropdown-list').append(seachHtml);

      $("#search_input").keyup(function () {
        var searchText = $(this).val().toLowerCase();
        // Show only matching TR, hide rest of them
        $.each(checkBoxValArray, function (index, value) {
          $.each($('#table tbody td:nth-child(' + value + ')'), function () {
            if ($(this).text().toLowerCase().indexOf(searchText) != -1)
              $(this).parent().show();
            else
              $(this).parent().hide();
          });
        });


      });

      var checkBoxValArray = [];
      $('.checkBoxClass').click(function () {
        checkBoxValArray.push($(this).val());
      });
    });

// https://examples.bootstrap-table.com/index.html#methods/get-visible-hidden-columns.html#view-source
  </script>

</body>
</html>

